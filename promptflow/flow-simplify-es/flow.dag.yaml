inputs:
  original_text:
    type: string
    default: Als Vernehmlassungsverfahren wird diejenige Phase innerhalb des
      Vorverfahrens der Gesetzgebung bezeichnet, in der Vorhaben des Bundes von
      erheblicher politischer, finanzieller, wirtschaftlicher, ökologischer,
      sozialer oder kultureller Tragweite auf ihre sachliche Richtigkeit,
      Vollzugstauglichkeit und Akzeptanz hin geprüft werden.   Die Vorlage wird
      zu diesem Zweck den Kantonen, den in der Bundesversammlung vertretenen
      Parteien, den Dachverbänden der Gemeinden, Städte und der Berggebiete, den
      Dachverbänden der Wirtschaft sowie weiteren, im Einzelfall interessierten
      Kreisen unterbreitet.
    description: This is the input text that should be simplified
  model:
    type: string
    default: gpt-3.5-turbo
outputs:
  simplified_text:
    type: string
    reference: ${simplify_es.output}
  prompt:
    type: string
    reference: ${create_prompt.output}
nodes:
- name: simplify_es
  type: llm
  source:
    type: code
    path: simplify_es.jinja2
  inputs:
    model: ${inputs.model}
    response_format:
      type: text
    prepared_prompt: ${create_prompt.output}
  connection: openai_connection
  api: chat
- name: rules
  use_variants: true
- name: completeness
  use_variants: true
- name: create_prompt
  type: prompt
  source:
    type: code
    path: create_prompt.jinja2
  inputs:
    completeness: ${completeness.output}
    rules: ${rules.output}
    text: ${inputs.original_text}
node_variants:
  rules:
    default_variant_id: full_instructions
    variants:
      full_instructions:
        node:
          type: prompt
          source:
            type: code
            path: rules_es.jinja2
          inputs: {}
      short_instructions:
        node:
          type: prompt
          source:
            type: code
            path: rules_es_short.jinja2
          inputs: {}
  completeness:
    default_variant_id: full
    variants:
      full:
        node:
          type: prompt
          source:
            type: code
            path: completeness_full.jinja2
          inputs: {}
      condensed:
        node:
          type: prompt
          source:
            type: code
            path: completeness_condensed.jinja2
          inputs: {}
